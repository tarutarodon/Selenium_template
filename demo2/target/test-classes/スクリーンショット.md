# â­ takeScreenshot() ã®è©³ç´°è§£èª¬

## ãƒ¡ã‚½ãƒƒãƒ‰å…¨ä½“
```java
private void takeScreenshot(ExtensionContext context) {
    if (driver != null) {
        String methodName = context.getDisplayName().replace("()", "");
        File screenshot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);
        try {
            File destFile = new File("screenshots/" + methodName + "_" + System.currentTimeMillis() + ".png");
            FileUtils.copyFile(screenshot, destFile);
            System.out.println("ğŸ“¸ Screenshot taken: " + destFile.getAbsolutePath());
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```

---

## éƒ¨åˆ†ã”ã¨ã®èª¬æ˜

### `if (driver != null)`
- WebDriver ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
- null ã®å ´åˆã¯æ“ä½œã—ãªã„

### `context.getDisplayName().replace("()", "")`
- JUnitã®ãƒ†ã‚¹ãƒˆåã‚’å–å¾—
- `"testLogin()"` ãªã©ã®è¡¨è¨˜ã‚’ `"testLogin"` ã«å¤‰æ›

### `getScreenshotAs(OutputType.FILE)`
- `TakesScreenshot` ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä½¿ã„ã‚­ãƒ£ãƒ—ãƒãƒ£ãƒ¼æ“ä½œ
- ä¸€æ™‚çš„ãªãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä½œæˆ

### `System.currentTimeMillis()`
- ç¾åœ¨ã®ãƒŸãƒªç§’æ™‚é–“ã‚’ãƒ•ã‚¡ã‚¤ãƒ«åã«å«ã‚ã‚‹
- åŒã˜ãƒ†ã‚¹ãƒˆåã®é‡è¤‡ã‚’é¿ã‘ã‚‹

### `FileUtils.copyFile`
- Apache Commons IO ã®æ©Ÿèƒ½
- ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ãŸä½ç½®ã«ã‚³ãƒ”ãƒ¼

### `System.out.println(...)`
- ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã®ä¿å­˜å ´æ‰€ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«è¡¨ç¤º

---

## é‡è¤‡å®Ÿè¡Œã®é¿ã‘æ–¹

| å®Ÿè£… | å†…å®¹ |
|--------|------|
| `System.currentTimeMillis()` | ä¸€æ„ã«ã‚†ã‚‹ã•ã‚ŒãŸåå‰ã‚’ä¿è¨¼ã—ã€åŒåã®ãƒ•ã‚¡ã‚¤ãƒ«ä¸Šæ›¸ãã‚’é¿ã‘ã‚‹ |
| ãƒ•ãƒ©ã‚°ç®¡ç† | ä½¿ç”¨ã—ã¦ã„ãªã„ (å¿…è¦ãŒãªã„) |
| ãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ç¢ºèª | ä½¿ç”¨ã—ã¦ã„ãªã„ (åŒåãªã‚‰ãªã„ãŸã‚) |

---

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒç„¡ã„å ´åˆã®å¯¾ç­–

```java
File dir = new File("screenshots");
if (!dir.exists()) {
    dir.mkdirs();
}
```
- `screenshots/` ãƒ•ã‚©ãƒ«ãƒ€ãŒå­˜åœ¨ã—ãªã„å ´åˆã¯ä½œæˆ

---

## ç·æ‹¬
- ç¾åœ¨ã®ã‚³ãƒ¼ãƒ‰ã¯ã€Œå˜ç´”ãªæ–¹æ³•ã§é‡è¤‡ã‚’é¿ã‘ãªãŒã‚‰ã€ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’æ¯å›ä¿å­˜
- å®Ÿè³ªçš„ã«ã¯é‡è¤‡ä¿å­˜ã¯ã›ãšã€ä¸€æšã®ã¿è£½ä½œ
- JUnitã®æ‹¡å¼µãƒ¡ã‚½ãƒƒãƒ‰å´ã§ã¯è¤‡æ•°å›å‘¼ã°ã‚Œã‚‹å¯èƒ½æ€§ã¯ã‚ã‚‹ãŒã€ãƒ•ã‚¡ã‚¤ãƒ«åã«ã‚ˆã‚Šé‡è¤‡ã‚’å›ºå®šçš„ã«å›é¿

